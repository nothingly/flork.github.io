

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="B612ğŸš€">
  <meta name="keywords" content="">
  
    <meta name="description" content="å¾®æœåŠ¡æ¦‚è¿° ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ  å¾®æœåŠ¡æ˜¯æœ€è¿‘å‡ å¹´æµè¡Œèµ·æ¥çš„ä¸€ç›´æ¶æ„æ€æƒ³ã€‚æ›´ç›´ç™½çš„è¯´å¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°çš„æ€ç»´æ–¹å¼ï¼Œä¸ºé—®é¢˜çš„è§£å†³æä¾›äº†ä¸€ç§ä¸åŒçš„è§£å†³æ€è·¯ï¼Œä¸æ­¤åŒæ—¶ï¼Œä¹Ÿæä¾›äº†å¤§é‡çš„å°±ä¸šæœºä¼šã€‚ å¾®æœåŠ¡å°†çš„å•ä¸€çš„åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºä¸€ç»„å°çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨å…¶è‡ªå·±ç‹¬ç«‹çš„è¿›ç¨‹ä¹‹ä¸­ï¼ŒæœåŠ¡ä¹‹é—´å¯ä»¥ç›¸äº’åè°ƒï¼Œäº’ç›¸é…ç½®ã€‚ä¸ºç”¨æˆ·æä¾›äº†æœ€ç»ˆçš„ä»·å€¼ï¼ŒæœåŠ¡ä¹‹é—´é‡‡ç”¨è½»é‡çº§åˆ«çš„é€šä¿¡æœºåˆ¶ï¼ˆHTTPï¼‰ã€‚ å¾®æœåŠ¡çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¼ ç»Ÿçš„ä¸€ç«™å¼åº”ç”¨">
<meta property="og:type" content="article">
<meta property="og:title" content="springCloud">
<meta property="og:url" content="https://lfrok.top/2022/11/27/Java/SpringCloud/index.html">
<meta property="og:site_name" content="Le Petit Prince">
<meta property="og:description" content="å¾®æœåŠ¡æ¦‚è¿° ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ  å¾®æœåŠ¡æ˜¯æœ€è¿‘å‡ å¹´æµè¡Œèµ·æ¥çš„ä¸€ç›´æ¶æ„æ€æƒ³ã€‚æ›´ç›´ç™½çš„è¯´å¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°çš„æ€ç»´æ–¹å¼ï¼Œä¸ºé—®é¢˜çš„è§£å†³æä¾›äº†ä¸€ç§ä¸åŒçš„è§£å†³æ€è·¯ï¼Œä¸æ­¤åŒæ—¶ï¼Œä¹Ÿæä¾›äº†å¤§é‡çš„å°±ä¸šæœºä¼šã€‚ å¾®æœåŠ¡å°†çš„å•ä¸€çš„åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºä¸€ç»„å°çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨å…¶è‡ªå·±ç‹¬ç«‹çš„è¿›ç¨‹ä¹‹ä¸­ï¼ŒæœåŠ¡ä¹‹é—´å¯ä»¥ç›¸äº’åè°ƒï¼Œäº’ç›¸é…ç½®ã€‚ä¸ºç”¨æˆ·æä¾›äº†æœ€ç»ˆçš„ä»·å€¼ï¼ŒæœåŠ¡ä¹‹é—´é‡‡ç”¨è½»é‡çº§åˆ«çš„é€šä¿¡æœºåˆ¶ï¼ˆHTTPï¼‰ã€‚ å¾®æœåŠ¡çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¼ ç»Ÿçš„ä¸€ç«™å¼åº”ç”¨">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-11-27T09:58:46.501Z">
<meta property="article:modified_time" content="2022-11-27T10:33:46.976Z">
<meta property="article:author" content="B612ğŸš€">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>springCloud - Le Petit Prince</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"lfrok.top","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>B-612</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/same/">
                <i class="iconfont icon-twitch-fill"></i>
                æˆ‘ä»¬
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://pprince.top/bgc/bgc-2.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="springCloud"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-27 17:58" pubdate>
          2022å¹´11æœˆ27æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          12k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          98 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">springCloud</h1>
            
            
              <div class="markdown-body">
                
                <h3 id="å¾®æœåŠ¡æ¦‚è¿°"><a href="#å¾®æœåŠ¡æ¦‚è¿°" class="headerlink" title="å¾®æœåŠ¡æ¦‚è¿°"></a>å¾®æœåŠ¡æ¦‚è¿°</h3><ul>
<li>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ</li>
</ul>
<p>å¾®æœåŠ¡æ˜¯æœ€è¿‘å‡ å¹´æµè¡Œèµ·æ¥çš„ä¸€ç›´æ¶æ„æ€æƒ³ã€‚æ›´ç›´ç™½çš„è¯´å¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°çš„æ€ç»´æ–¹å¼ï¼Œä¸ºé—®é¢˜çš„è§£å†³æä¾›äº†ä¸€ç§ä¸åŒçš„è§£å†³æ€è·¯ï¼Œä¸æ­¤åŒæ—¶ï¼Œä¹Ÿæä¾›äº†å¤§é‡çš„å°±ä¸šæœºä¼šã€‚</p>
<p>å¾®æœåŠ¡å°†çš„å•ä¸€çš„åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºä¸€ç»„å°çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨å…¶è‡ªå·±ç‹¬ç«‹çš„è¿›ç¨‹ä¹‹ä¸­ï¼ŒæœåŠ¡ä¹‹é—´å¯ä»¥ç›¸äº’åè°ƒï¼Œäº’ç›¸é…ç½®ã€‚ä¸ºç”¨æˆ·æä¾›äº†æœ€ç»ˆçš„ä»·å€¼ï¼ŒæœåŠ¡ä¹‹é—´é‡‡ç”¨è½»é‡çº§åˆ«çš„é€šä¿¡æœºåˆ¶ï¼ˆHTTPï¼‰ã€‚</p>
<p>å¾®æœåŠ¡çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¼ ç»Ÿçš„ä¸€ç«™å¼åº”ç”¨ï¼Œæ ¹æ®ä¸šåŠ¡çš„æ‹†åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„æœåŠ¡ï¼Œå½»åº•çš„å»è€¦åˆï¼Œæ¯ä¸€ä¸ªå¾®æœåŠ¡èƒ½å¤Ÿæä¾›çš„å•ä¸ªçš„ä¸šåŠ¡åŠŸèƒ½ï¼Œ ä¸€ä¸ªæœåŠ¡åšä¸€ä»¶äº‹æƒ…ï¼Œä»æŠ€æœ¯çš„è§’åº¦çœ‹å°±æ˜¯ä¸€ç§å°è€Œç‹¬ç«‹çš„å¤„ç†è¿‡ç¨‹ï¼Œç±»ä¼¼è¿›ç¨‹çš„ä¸ªæ¦‚å¿µã€‚</p>
<ul>
<li>ä¼˜ç‚¹</li>
</ul>
<ol>
<li>å•ä¸€çš„èŒè´£åŸåˆ™</li>
<li>é«˜å†…èšï¼Œè¶³å¤Ÿå°ï¼Œä»£ç å®¹æ˜“ç†è§£</li>
<li>å¼€å‘ç®€å•ï¼Œæ•ˆç‡é«˜</li>
<li>èƒ½å¤Ÿä½¿ç”¨ä¸åŒçš„è¯­è¨€å¼€å‘</li>
<li>å¯ä»¥é›†æˆç¬¬ä¸‰æ–¹çš„è½¯ä»¶</li>
<li>â€¦â€¦â€¦â€¦â€¦</li>
</ol>
<ul>
<li>ç¼ºç‚¹</li>
</ul>
<ol>
<li>æœåŠ¡é—´çš„é€šä¿¡æˆæœ¬</li>
<li>ç³»ç»Ÿéƒ¨ç½²ä¾èµ–é—®é¢˜</li>
<li>æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜</li>
<li>æ€§èƒ½å’Œç›‘æ§é—®é¢˜</li>
</ol>
<h3 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h3><h4 id="SpringCloudå’ŒSpringBootçš„å…³ç³»"><a href="#SpringCloudå’ŒSpringBootçš„å…³ç³»" class="headerlink" title="SpringCloudå’ŒSpringBootçš„å…³ç³»"></a>SpringCloudå’ŒSpringBootçš„å…³ç³»</h4><ul>
<li>SpringBootä¸“æ³¨äºå¼€è‹æ–¹ä¾¿çš„å¼€å‘å•ä¸ªä¸ªä½“å¾®æœåŠ¡ï¼›</li>
<li>SpringCloudæ˜¯å…³æ³¨å…¨å±€çš„å¾®æœåŠ¡åè°ƒæ•´ç†æ²»ç†æ¡†æ¶ï¼Œå®ƒå°†SpringBootå¼€å‘çš„ä¸€ä¸ªä¸ªå•ä½“å¾®æœåŠ¡ï¼Œæ•´åˆå¹¶ç®¡ç†èµ·æ¥ï¼Œä¸ºå„ä¸ªå¾®æœåŠ¡ä¹‹é—´æä¾›ï¼šé…ç½®ç®¡ç†ã€æœåŠ¡å‘ç°ã€æ–­è·¯å™¨ã€è·¯ç”±ã€ä¸ºä»£ç†ã€äº‹ä»¶æ€»æ ˆã€å…¨å±€é”ã€å†³ç­–ç«é€‰ã€åˆ†å¸ƒå¼ä¼šè¯ç­‰ç­‰é›†æˆæœåŠ¡ï¼›</li>
<li>SpringBootå¯ä»¥ç¦»å¼€SpringCloudç‹¬ç«‹ä½¿ç”¨ï¼Œå¼€å‘é¡¹ç›®ï¼Œä½†SpringCloudç¦»ä¸å¼€SpringBootï¼Œå±äºä¾èµ–å…³ç³»ï¼›</li>
<li>SpringBootä¸“æ³¨äºå¿«é€Ÿã€æ–¹ä¾¿çš„å¼€å‘å•ä¸ªä¸ªä½“å¾®æœåŠ¡ï¼ŒSpringCloudå…³æ³¨å…¨å±€çš„æœåŠ¡æ²»ç†æ¡†æ¶ï¼›</li>
</ul>
<h3 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h3><ul>
<li>Netflixåœ¨æ¶‰åŠEurekaæ—¶ï¼Œéµå¾ªçš„å°±æ˜¯APIåŸåˆ™.</li>
<li>Eurekaæ˜¯Netflixçš„æœ‰ä¸ªå­æ¨¡å—ï¼Œä¹Ÿæ˜¯æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ã€‚Eurekaæ˜¯åŸºäºRESTçš„æœåŠ¡ï¼Œç”¨äºå®šä½æœåŠ¡ï¼Œä»¥å®ç°äº‘ç«¯ä¸­é—´ä»¶å±‚æœåŠ¡å‘ç°å’Œæ•…éšœè½¬ç§»ï¼ŒæœåŠ¡æ³¨å†Œä¸å‘ç°å¯¹äºå¾®æœåŠ¡æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ï¼Œæœ‰äº†æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼Œåªéœ€è¦ä½¿ç”¨æœåŠ¡çš„æ ‡è¯†ç¬¦ï¼Œå°±å¯ä»¥è®¿é—®åˆ°æœåŠ¡ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹æœåŠ¡è°ƒç”¨çš„é…ç½®æ–‡ä»¶äº†ï¼ŒåŠŸèƒ½ç±»ä¼¼äºDubboçš„æ³¨å†Œä¸­å¿ƒï¼Œæ¯”å¦‚Zookeeper.</li>
<li>Eureka åŒ…å«ä¸¤ä¸ªç»„ä»¶ï¼š<strong>Eureka Server</strong> å’Œ <strong>Eureka Client.</strong></li>
<li>Eureka Server æä¾›æœåŠ¡æ³¨å†Œï¼Œå„ä¸ªèŠ‚ç‚¹å¯åŠ¨åï¼Œå›åœ¨EurekaServerä¸­è¿›è¡Œæ³¨å†Œï¼Œè¿™æ ·Eureka Serverä¸­çš„æœåŠ¡æ³¨å†Œè¡¨ä¸­å°†ä¼šå‚¨å­˜æ‰€æœ‰è¯¾ç”¨æœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯ï¼ŒæœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯å¯ä»¥åœ¨ç•Œé¢ä¸­ç›´è§‚çš„çœ‹åˆ°.</li>
<li>Eureka Client æ˜¯ä¸€ä¸ªJavaå®¢æˆ·ç«¯ï¼Œç”¨äºç®€åŒ–EurekaServerçš„äº¤äº’ï¼Œå®¢æˆ·ç«¯åŒæ—¶ä¹Ÿå…·å¤‡ä¸€ä¸ªå†…ç½®çš„ï¼Œä½¿ç”¨è½®è¯¢è´Ÿè½½ç®—æ³•çš„è´Ÿè½½å‡è¡¡å™¨ã€‚åœ¨åº”ç”¨å¯åŠ¨åï¼Œå°†ä¼šå‘EurekaServerå‘é€å¿ƒè·³ (é»˜è®¤å‘¨æœŸä¸º30ç§’) ã€‚å¦‚æœEureka Serveråœ¨å¤šä¸ªå¿ƒè·³å‘¨æœŸå†…æ²¡æœ‰æ¥æ”¶åˆ°æŸä¸ªèŠ‚ç‚¹çš„å¿ƒè·³ï¼ŒEurekaServerå°†ä¼šä»æœåŠ¡æ³¨å†Œè¡¨ä¸­æŠŠè¿™ä¸ªæœåŠ¡èŠ‚ç‚¹ç§»é™¤æ‰ (é»˜è®¤å‘¨æœŸä¸º90s).</li>
<li>Eureka Serverï¼šæä¾›æœåŠ¡çš„æ³¨å†Œä¸å‘ç°</li>
<li>Service Providerï¼šæœåŠ¡ç”Ÿäº§æ–¹ï¼Œå°†è‡ªèº«æœåŠ¡æ³¨å†Œåˆ°Eurekaä¸­ï¼Œä»è€Œä½¿æœåŠ¡æ¶ˆè´¹æ–¹èƒ½ç‹—æ‰¾åˆ°</li>
<li>Service Consumerï¼šæœåŠ¡æ¶ˆè´¹æ–¹ï¼Œä»Eurekaä¸­è·å–æ³¨å†ŒæœåŠ¡åˆ—è¡¨ï¼Œä»è€Œæ‰¾åˆ°æ¶ˆè´¹æœåŠ¡</li>
</ul>
<h4 id="é…ç½®æ­¥éª¤"><a href="#é…ç½®æ­¥éª¤" class="headerlink" title="é…ç½®æ­¥éª¤"></a>é…ç½®æ­¥éª¤</h4><h4 id="1-eureka-server"><a href="#1-eureka-server" class="headerlink" title="1. eureka-server"></a><strong>1. eureka-server</strong></h4><ul>
<li><p>å¯¼å…¥ä¾èµ–</p>
</li>
<li><p><code>  &lt;dependency&gt;            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;            &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;            &lt;version&gt;1.4.6.RELEASE&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;        &lt;/dependency&gt; - é…ç½®yml- ```yml  server:    port: 7001  # Eurekaé…ç½®  eureka:    instance:      # EurekaæœåŠ¡ç«¯çš„å®ä¾‹åå­—      hostname: 127.0.0.1    client:      # è¡¨ç¤ºæ˜¯å¦å‘ Eureka æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±(è¿™ä¸ªæ¨¡å—æœ¬èº«æ˜¯æœåŠ¡å™¨,æ‰€ä»¥ä¸éœ€è¦)      register-with-eureka: false      # fetch-registryå¦‚æœä¸ºfalse,åˆ™è¡¨ç¤ºè‡ªå·±ä¸ºæ³¨å†Œä¸­å¿ƒ,å®¢æˆ·ç«¯çš„åŒ–ä¸º ture      fetch-registry: false      # Eurekaç›‘æ§é¡µé¢~      service-url:        defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/  YAML</code></p>
</li>
<li><p>å¯åŠ¨ç±»æ³¨è§£</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">boot</span>.<span class="hljs-property">SpringApplication</span>;<br><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">boot</span>.<span class="hljs-property">autoconfigure</span>.<span class="hljs-property">SpringBootApplication</span>;<br><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">cloud</span>.<span class="hljs-property">netflix</span>.<span class="hljs-property">eureka</span>.<span class="hljs-property">server</span>.<span class="hljs-property">EnableEurekaServer</span>;<br><br><span class="hljs-comment">//å¯åŠ¨ä¹‹åï¼Œè®¿é—® http://localhost:7001/</span><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableEurekaServer</span> <span class="hljs-comment">//æœåŠ¡ç«¯çš„å¯åŠ¨ç±»ï¼Œå¯ä»¥æ¥å—åˆ«äººæ³¨å†Œè¿›æ¥</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EurekaServer_7001</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) &#123;<br>        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">EurekaServer</span>_7001.<span class="hljs-property">class</span>,args);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-variable constant_">JAVA</span><br></code></pre></td></tr></table></figure>

<p>è®¿é—® <a target="_blank" rel="noopener" href="http://localhost:7001/">http://localhost:7001/</a></p>
</li>
</ul>
<h4 id="2-eureka-client"><a href="#2-eureka-client" class="headerlink" title="2.eureka-client"></a><strong>2.eureka-client</strong></h4><ul>
<li>å¯¼å…¥ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><br>MAVEN<br></code></pre></td></tr></table></figure>

<ul>
<li>é…ç½®yml</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Eurekaé…ç½®ï¼šé…ç½®æœåŠ¡æ³¨å†Œä¸­å¿ƒåœ°å€</span><br><span class="hljs-attr">eureka:</span><br>  <span class="hljs-attr">client:</span><br>    <span class="hljs-attr">service-url:</span><br>      <span class="hljs-attr">defaultZone:</span> <span class="hljs-string">http://localhost:7001/eureka/</span><br>  <span class="hljs-attr">instance:</span><br>    <span class="hljs-attr">instance-id:</span> <span class="hljs-string">springcloud-provider-dept-8001</span> <span class="hljs-comment">#ä¿®æ”¹Eurekaä¸Šçš„é»˜è®¤æè¿°ä¿¡æ¯</span><br>    <span class="hljs-comment">#å¦‚æœæ­¤æ—¶åœæ‰springcloud-provider-dept-8001 ç­‰30så ç›‘æ§ä¼šå¼€å¯ä¿æŠ¤æœºåˆ¶ï¼š</span><br><br><span class="hljs-string">YML</span><br></code></pre></td></tr></table></figure>

<ul>
<li>æ³¨è§£</li>
<li>ä¸»å¯åŠ¨ç±»ä¸­åŠ å…¥@EnableDiscoveryClient æ³¨è§£ &#x2F;&#x2F;<em>å¼€å¯æœåŠ¡å‘ç°å®¢æˆ·ç«¯çš„æ³¨è§£ï¼Œå¯ä»¥ç”¨æ¥è·å–ä¸€äº›é…ç½®çš„ä¿¡æ¯ï¼Œå¾—åˆ°å…·ä½“çš„å¾®æœåŠ¡</em></li>
</ul>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@SpringBootApplication</span><br><span class="hljs-comment">// @EnableEurekaClient å¼€å¯Eurekaå®¢æˆ·ç«¯æ³¨è§£ï¼Œåœ¨æœåŠ¡å¯åŠ¨åè‡ªåŠ¨å‘æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡</span><br><span class="hljs-variable">@EnableEurekaClient</span><br>public class DeptProvider_8001 &#123;<br>    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) &#123;<br>        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(DeptProvider_8001.class,args);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-selector-tag">JAVA</span><br></code></pre></td></tr></table></figure>

<h4 id="3-é…ç½®å…³äºæœåŠ¡åŠ è½½çš„ç›‘æ§ä¿¡æ¯"><a href="#3-é…ç½®å…³äºæœåŠ¡åŠ è½½çš„ç›‘æ§ä¿¡æ¯" class="headerlink" title="3.é…ç½®å…³äºæœåŠ¡åŠ è½½çš„ç›‘æ§ä¿¡æ¯"></a>3.é…ç½®å…³äºæœåŠ¡åŠ è½½çš„ç›‘æ§ä¿¡æ¯</h4><ul>
<li>å¯¼å…¥ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><br>MAVEN<br></code></pre></td></tr></table></figure>

<ul>
<li>é…ç½®yml</li>
</ul>
<figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-comment"># infoé…ç½®</span><br><span class="hljs-attribute">info</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-comment"># é¡¹ç›®çš„åç§°</span><br>  <span class="hljs-attribute">app.name</span><span class="hljs-punctuation">:</span> <span class="hljs-string">NYNUywg-springcloud</span><br>  <span class="hljs-comment"># å…¬å¸çš„åç§°</span><br>  <span class="hljs-attribute">company.name</span><span class="hljs-punctuation">:</span> <span class="hljs-string">å—é˜³å¸ˆèŒƒå­¦é™¢è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢</span><br><br><br>YML<br></code></pre></td></tr></table></figure>

<h4 id="4-EureKaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"><a href="#4-EureKaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶" class="headerlink" title="4.EureKaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"></a>4.EureKaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</h4><p><strong>æŸæ—¶åˆ»æŸä¸€ä¸ªå¾®æœåŠ¡ä¸å¯ç”¨ï¼Œeurekaä¸ä¼šç«‹å³æ¸…ç†ï¼Œä¾æ—§ä¼šå¯¹è¯¥å¾®æœåŠ¡çš„ä¿¡æ¯è¿›è¡Œä¿å­˜ï¼</strong></p>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“eureka serveråœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°å®ä¾‹çš„å¿ƒè·³ï¼Œä¾¿ä¼šæŠŠè¯¥å®ä¾‹ä»æ³¨å†Œè¡¨ä¸­åˆ é™¤ï¼ˆé»˜è®¤æ˜¯90ç§’ï¼‰ï¼Œä½†æ˜¯ï¼Œå¦‚æœçŸ­æ—¶é—´å†…ä¸¢å¤±å¤§é‡çš„å®ä¾‹å¿ƒè·³ï¼Œä¾¿ä¼šè§¦å‘eureka serverçš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œæ¯”å¦‚åœ¨å¼€å‘æµ‹è¯•æ—¶ï¼Œéœ€è¦é¢‘ç¹åœ°é‡å¯å¾®æœåŠ¡å®ä¾‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¾ˆå°‘ä¼šæŠŠeureka serverä¸€èµ·é‡å¯ï¼ˆå› ä¸ºåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸ä¼šä¿®æ”¹eurekaæ³¨å†Œä¸­å¿ƒï¼‰ï¼Œå½“ä¸€åˆ†é’Ÿå†…æ”¶åˆ°çš„å¿ƒè·³æ•°å¤§é‡å‡å°‘æ—¶ï¼Œä¼šè§¦å‘è¯¥ä¿æŠ¤æœºåˆ¶ã€‚å¯ä»¥åœ¨eurekaç®¡ç†ç•Œé¢çœ‹åˆ°Renews thresholdå’ŒRenews(last min)ï¼Œå½“åè€…ï¼ˆæœ€åä¸€åˆ†é’Ÿæ”¶åˆ°çš„å¿ƒè·³æ•°ï¼‰å°äºå‰è€…ï¼ˆå¿ƒè·³é˜ˆå€¼ï¼‰çš„æ—¶å€™ï¼Œè§¦å‘ä¿æŠ¤æœºåˆ¶ï¼Œä¼šå‡ºç°çº¢è‰²çš„è­¦å‘Šï¼šEMERGENCY!EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEYâ€™RE NOT.RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEGING EXPIRED JUST TO BE SAFE.ä»è­¦å‘Šä¸­å¯ä»¥çœ‹åˆ°ï¼Œeurekaè®¤ä¸ºè™½ç„¶æ”¶ä¸åˆ°å®ä¾‹çš„å¿ƒè·³ï¼Œä½†å®ƒè®¤ä¸ºå®ä¾‹è¿˜æ˜¯å¥åº·çš„ï¼Œeurekaä¼šä¿æŠ¤è¿™äº›å®ä¾‹ï¼Œä¸ä¼šæŠŠå®ƒä»¬ä»æ³¨å†Œè¡¨ä¸­åˆ æ‰ã€‚</li>
<li>è¯¥ä¿æŠ¤æœºåˆ¶çš„ç›®çš„æ˜¯é¿å…ç½‘ç»œè¿æ¥æ•…éšœï¼Œåœ¨å‘ç”Ÿç½‘ç»œæ•…éšœæ—¶ï¼Œå¾®æœåŠ¡å’Œæ³¨å†Œä¸­å¿ƒä¹‹é—´æ— æ³•æ­£å¸¸é€šä¿¡ï¼Œä½†æœåŠ¡æœ¬èº«æ˜¯å¥åº·çš„ï¼Œä¸åº”è¯¥æ³¨é”€è¯¥æœåŠ¡ï¼Œå¦‚æœeurekaå› ç½‘ç»œæ•…éšœè€ŒæŠŠå¾®æœåŠ¡è¯¯åˆ äº†ï¼Œé‚£å³ä½¿ç½‘ç»œæ¢å¤äº†ï¼Œè¯¥å¾®æœåŠ¡ä¹Ÿä¸ä¼šé‡æ–°æ³¨å†Œåˆ°eureka serveräº†ï¼Œå› ä¸ºåªæœ‰åœ¨å¾®æœåŠ¡å¯åŠ¨çš„æ—¶å€™æ‰ä¼šå‘èµ·æ³¨å†Œè¯·æ±‚ï¼Œåé¢åªä¼šå‘é€å¿ƒè·³å’ŒæœåŠ¡åˆ—è¡¨è¯·æ±‚ï¼Œè¿™æ ·çš„è¯ï¼Œè¯¥å®ä¾‹è™½ç„¶æ˜¯è¿è¡Œç€ï¼Œä½†æ°¸è¿œä¸ä¼šè¢«å…¶å®ƒæœåŠ¡æ‰€æ„ŸçŸ¥ã€‚æ‰€ä»¥ï¼Œeureka serveråœ¨çŸ­æ—¶é—´å†…ä¸¢å¤±è¿‡å¤šçš„å®¢æˆ·ç«¯å¿ƒè·³æ—¶ï¼Œä¼šè¿›å…¥è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸‹ï¼Œeurekaä¼šä¿æŠ¤æ³¨å†Œè¡¨ä¸­çš„ä¿¡æ¯ï¼Œä¸åœ¨æ³¨é”€ä»»ä½•å¾®æœåŠ¡ï¼Œå½“ç½‘ç»œæ•…éšœæ¢å¤åï¼Œeurekaä¼šè‡ªåŠ¨é€€å‡ºä¿æŠ¤æ¨¡å¼ã€‚è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼å¯ä»¥è®©é›†ç¾¤æ›´åŠ å¥å£®ã€‚<br>ä½†æ˜¯æˆ‘ä»¬åœ¨å¼€å‘æµ‹è¯•é˜¶æ®µï¼Œéœ€è¦é¢‘ç¹åœ°é‡å¯å‘å¸ƒï¼Œå¦‚æœè§¦å‘äº†ä¿æŠ¤æœºåˆ¶ï¼Œåˆ™æ—§çš„æœåŠ¡å®ä¾‹æ²¡æœ‰è¢«åˆ é™¤ï¼Œè¿™æ—¶è¯·æ±‚æœ‰å¯èƒ½è·‘åˆ°æ—§çš„å®ä¾‹ä¸­ï¼Œè€Œè¯¥å®ä¾‹å·²ç»å…³é—­äº†ï¼Œè¿™å°±å¯¼è‡´è¯·æ±‚é”™è¯¯ï¼Œå½±å“å¼€å‘æµ‹è¯•ã€‚æ‰€ä»¥ï¼Œåœ¨å¼€å‘æµ‹è¯•é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè‡ªæˆ‘ä¿æŠ¤æ¨¡å¼å…³é—­ï¼Œåªéœ€åœ¨eureka serveré…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹é…ç½®å³å¯ï¼šeureka.server.enable-self-preservation&#x3D;falseã€ä¸æ¨èå…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ã€‘</li>
</ul>
<h4 id="é›†ç¾¤æ­å»º"><a href="#é›†ç¾¤æ­å»º" class="headerlink" title="é›†ç¾¤æ­å»º"></a>é›†ç¾¤æ­å»º</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">7002</span><br><br><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">7003</span><br><br><br><span class="hljs-string">YML</span><br></code></pre></td></tr></table></figure>

<p><strong>Eurekaä¿è¯çš„æ˜¯AP</strong></p>
<h3 id="Ribbon"><a href="#Ribbon" class="headerlink" title="Ribbon"></a>Ribbon</h3><h4 id="è´Ÿè½½å‡è¡¡ä»¥åŠRibbon"><a href="#è´Ÿè½½å‡è¡¡ä»¥åŠRibbon" class="headerlink" title="è´Ÿè½½å‡è¡¡ä»¥åŠRibbon"></a>è´Ÿè½½å‡è¡¡ä»¥åŠRibbon</h4><ul>
<li>Spring Cloud Ribbon æ˜¯åŸºäºNetflix Ribbon å®ç°çš„ä¸€å¥—å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥å…·ã€‚</li>
<li>ç®€å•çš„è¯´ï¼ŒRibbon æ˜¯ Netflix å‘å¸ƒçš„å¼€æºé¡¹ç›®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›å®¢æˆ·ç«¯çš„è½¯ä»¶è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå°† Netflix çš„ä¸­é—´å±‚æœåŠ¡è¿æ¥åœ¨ä¸€èµ·ã€‚Ribbon çš„å®¢æˆ·ç«¯ç»„ä»¶æä¾›ä¸€ç³»åˆ—å®Œæ•´çš„é…ç½®é¡¹ï¼Œå¦‚ï¼šè¿æ¥è¶…æ—¶ã€é‡è¯•ç­‰ã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ—å‡º LoadBalancer (ç®€ç§°LBï¼šè´Ÿè½½å‡è¡¡) åé¢æ‰€æœ‰çš„åŠå…¶ï¼ŒRibbon ä¼šè‡ªåŠ¨çš„å¸®åŠ©ä½ åŸºäºæŸç§è§„åˆ™ (å¦‚ç®€å•è½®è¯¢ï¼Œéšæœºè¿æ¥ç­‰ç­‰) å»è¿æ¥è¿™äº›æœºå™¨ã€‚æˆ‘ä»¬ä¹Ÿå®¹æ˜“ä½¿ç”¨ Ribbon å®ç°è‡ªå®šä¹‰çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼</li>
</ul>
<p>LBï¼Œå³è´Ÿè½½å‡è¡¡ (LoadBalancer) ï¼Œåœ¨å¾®æœåŠ¡æˆ–åˆ†å¸ƒå¼é›†ç¾¤ä¸­ç»å¸¸ç”¨çš„ä¸€ç§åº”ç”¨ã€‚</p>
<p>è´Ÿè½½å‡è¡¡ç®€å•çš„è¯´å°±æ˜¯å°†ç”¨æˆ·çš„è¯·æ±‚å¹³æ‘Šçš„åˆ†é…åˆ°å¤šä¸ªæœåŠ¡ä¸Šï¼Œä»è€Œè¾¾åˆ°ç³»ç»Ÿçš„HA (é«˜ç”¨)ã€‚</p>
<p>å¸¸è§çš„è´Ÿè½½å‡è¡¡è½¯ä»¶æœ‰ Nginxã€Lvs ç­‰ç­‰ã€‚</p>
<p>Dubboã€SpringCloud ä¸­å‡ç»™æˆ‘ä»¬æä¾›äº†è´Ÿè½½å‡è¡¡ï¼ŒSpringCloud çš„è´Ÿè½½å‡è¡¡ç®—æ³•å¯ä»¥è‡ªå®šä¹‰ã€‚</p>
<p>è´Ÿè½½å‡è¡¡ç®€å•åˆ†ç±»ï¼š</p>
<p>é›†ä¸­å¼LB</p>
<p>å³åœ¨æœåŠ¡çš„æä¾›æ–¹å’Œæ¶ˆè´¹æ–¹ä¹‹é—´ä½¿ç”¨ç‹¬ç«‹çš„LBè®¾æ–½ï¼Œå¦‚Nginx(åå‘ä»£ç†æœåŠ¡å™¨)ï¼Œç”±è¯¥è®¾æ–½è´Ÿè´£æŠŠè®¿é—®è¯·æ±‚é€šè¿‡æŸç§ç­–ç•¥è½¬å‘è‡³æœåŠ¡çš„æä¾›æ–¹ï¼<br>è¿›ç¨‹å¼ LB</p>
<p>å°†LBé€»è¾‘é›†æˆåˆ°æ¶ˆè´¹æ–¹ï¼Œæ¶ˆè´¹æ–¹ä»æœåŠ¡æ³¨å†Œä¸­å¿ƒè·çŸ¥æœ‰å“ªäº›åœ°å€å¯ç”¨ï¼Œç„¶åè‡ªå·±å†ä»è¿™äº›åœ°å€ä¸­é€‰å‡ºä¸€ä¸ªåˆé€‚çš„æœåŠ¡å™¨ã€‚<br>Ribbon å°±å±äºè¿›ç¨‹å†…LBï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç±»åº“ï¼Œé›†æˆäºæ¶ˆè´¹æ–¹è¿›ç¨‹ï¼Œæ¶ˆè´¹æ–¹é€šè¿‡å®ƒæ¥è·å–åˆ°æœåŠ¡æä¾›æ–¹çš„åœ°å€ï¼</p>
<h4 id="é›†æˆRibbon"><a href="#é›†æˆRibbon" class="headerlink" title="é›†æˆRibbon"></a>é›†æˆRibbon</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Ribbon--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-ribbon<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--Eureka: Ribbonéœ€è¦ä»EurekaæœåŠ¡ä¸­å¿ƒè·å–è¦æ‹¿ä»€ä¹ˆ--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><br>MAVEN<br>eureka:<br>  client:<br>    register-with-eureka: false # ä¸å‘ Eurekaæ³¨å†Œè‡ªå·±<br>    service-url: # ä»ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒä¸­éšæœºå–ä¸€ä¸ªå»è®¿é—®<br>      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/<br><br><br>YML<br>//Ribbon å’Œ Eureka æ•´åˆä»¥åï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸ç”¨å…³å¿ƒIPåœ°å€å’Œç«¯å£å·<br>@SpringBootApplication<br>@EnableEurekaClient //å¼€å¯Eureka å®¢æˆ·ç«¯<br>public class DeptConsumer_80 &#123;<br>    public static void main(String[] args) &#123;<br>        SpringApplication.run(DeptConsumer_80.class, args);<br>    &#125;<br>&#125;<br><br><br>JAVA<br>@Configuration<br>public class ConfigBean &#123;<br>    //@Configuration -- spring  applicationContext.xml<br>    @LoadBalanced //é…ç½®è´Ÿè½½å‡è¡¡å®ç°RestTemplate<br>    @Bean<br>    public RestTemplate getRestTemplate() &#123;<br>        return new RestTemplate();<br>    &#125;<br>&#125;<br><br><br>JAVA<br></code></pre></td></tr></table></figure>

<h4 id="å¦‚ä½•åˆ‡æ¢æˆ–è€…è‡ªå®šä¹‰è§„åˆ™"><a href="#å¦‚ä½•åˆ‡æ¢æˆ–è€…è‡ªå®šä¹‰è§„åˆ™" class="headerlink" title="å¦‚ä½•åˆ‡æ¢æˆ–è€…è‡ªå®šä¹‰è§„åˆ™"></a>å¦‚ä½•åˆ‡æ¢æˆ–è€…è‡ªå®šä¹‰è§„åˆ™</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs awk">åœ¨è¿™é‡Œæ’å…¥ä»£ç ç‰‡@Configuration<br>public class ConfigBean &#123;<br>    <span class="hljs-regexp">//</span>@Configuration -- spring  applicationContext.xml<br>    /**<br>     * IRule:<br>     * RoundRobinRule è½®è¯¢ç­–ç•¥<br>     * RandomRule éšæœºç­–ç•¥<br>     * AvailabilityFilteringRule ï¼š ä¼šå…ˆè¿‡æ»¤æ‰ï¼Œè·³é—¸ï¼Œè®¿é—®æ•…éšœçš„æœåŠ¡~ï¼Œå¯¹å‰©ä¸‹çš„è¿›è¡Œè½®è¯¢~<br>     * RetryRule ï¼š ä¼šå…ˆæŒ‰ç…§è½®è¯¢è·å–æœåŠ¡~ï¼Œå¦‚æœæœåŠ¡è·å–å¤±è´¥ï¼Œåˆ™ä¼šåœ¨æŒ‡å®šçš„æ—¶é—´å†…è¿›è¡Œï¼Œé‡è¯•<br>     */<br>    @Bean<br>    public IRule myRule() &#123;<br>        return new RandomRule();<span class="hljs-regexp">//</span>ä½¿ç”¨éšæœºç­–ç•¥<br>        <span class="hljs-regexp">//</span>return new RoundRobinRule();<span class="hljs-regexp">//</span>ä½¿ç”¨è½®è¯¢ç­–ç•¥<br>        <span class="hljs-regexp">//</span>return new AvailabilityFilteringRule();<span class="hljs-regexp">//</span>ä½¿ç”¨è½®è¯¢ç­–ç•¥<br>        <span class="hljs-regexp">//</span>return new RetryRule();<span class="hljs-regexp">//</span>ä½¿ç”¨è½®è¯¢ç­–ç•¥<br>    &#125;<br>&#125;<br><br><br>JAVA<br></code></pre></td></tr></table></figure>

<h3 id="Feign"><a href="#Feign" class="headerlink" title="Feign"></a>Feign</h3><h4 id="Feignç®€ä»‹"><a href="#Feignç®€ä»‹" class="headerlink" title="Feignç®€ä»‹"></a>Feignç®€ä»‹</h4><p>Feignæ˜¯å£°æ˜å¼Web Serviceå®¢æˆ·ç«¯ï¼Œå®ƒè®©å¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨å˜å¾—æ›´ç®€å•ï¼Œç±»ä¼¼controllerè°ƒç”¨serviceã€‚SpringCloudé›†æˆäº†Ribbonå’ŒEurekaï¼Œå¯ä»¥ä½¿ç”¨Feiginæä¾›è´Ÿè½½å‡è¡¡çš„httpå®¢æˆ·ç«¯</p>
<h4 id="Feignçš„ä½¿ç”¨æ­¥éª¤"><a href="#Feignçš„ä½¿ç”¨æ­¥éª¤" class="headerlink" title="Feignçš„ä½¿ç”¨æ­¥éª¤"></a>Feignçš„ä½¿ç”¨æ­¥éª¤</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs typescript">&lt;!--<span class="hljs-title class_">Feign</span>çš„ä¾èµ–--&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-feign<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><br><span class="hljs-variable constant_">MAVEN</span><br><span class="hljs-comment">// @FeignClient:å¾®æœåŠ¡å®¢æˆ·ç«¯æ³¨è§£,value:æŒ‡å®šå¾®æœåŠ¡çš„åå­—,è¿™æ ·å°±å¯ä»¥ä½¿Feignå®¢æˆ·ç«¯ç›´æ¥æ‰¾åˆ°å¯¹åº”çš„å¾®æœåŠ¡</span><br><span class="hljs-meta">@FeignClient</span>(value = <span class="hljs-string">&quot;SPRINGCLOUD-PROVIDER-DEPT&quot;</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DeptClientService</span> &#123;<br><br>    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">&quot;/dept/get/&#123;id&#125;&quot;</span>)<br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Dept</span> <span class="hljs-title function_">queryById</span>(<span class="hljs-meta">@PathVariable</span>(<span class="hljs-string">&quot;id&quot;</span>) <span class="hljs-title class_">Long</span> id);<br>    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">&quot;/dept/list&quot;</span>)<br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Dept</span>&gt; <span class="hljs-title function_">queryAll</span>();<br>    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">&quot;/dept/add&quot;</span>)<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">addDept</span>(<span class="hljs-title class_">Dept</span> dept);<br>&#125;<br><br><br><span class="hljs-variable constant_">JAVA</span><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableEurekaClient</span><br><span class="hljs-comment">// feignå®¢æˆ·ç«¯æ³¨è§£,å¹¶æŒ‡å®šè¦æ‰«æçš„åŒ…ä»¥åŠé…ç½®æ¥å£DeptClientService</span><br><span class="hljs-meta">@EnableFeignClients</span>(basePackages = &#123;<span class="hljs-string">&quot;com.yang.springcloud.service&quot;</span>&#125;)<br><span class="hljs-comment">// åˆ‡è®°ä¸è¦åŠ è¿™ä¸ªæ³¨è§£ï¼Œä¸ç„¶ä¼šå‡ºç°404è®¿é—®ä¸åˆ°</span><br><span class="hljs-comment">//@ComponentScan(&quot;com.yang.springcloud.service&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeignDeptConsumer_80</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) &#123;<br>        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">FeignDeptConsumer</span>_80.<span class="hljs-property">class</span>, args);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-variable constant_">JAVA</span><br></code></pre></td></tr></table></figure>

<h3 id="HystrixæœåŠ¡ç†”æ–­"><a href="#HystrixæœåŠ¡ç†”æ–­" class="headerlink" title="HystrixæœåŠ¡ç†”æ–­"></a>HystrixæœåŠ¡ç†”æ–­</h3><p><strong>ä»€ä¹ˆæ˜¯æœåŠ¡ç†”æ–­?</strong><br><strong>ç†”æ–­æœºåˆ¶æ˜¯èµŒèµ¢é›ªå´©æ•ˆåº”çš„ä¸€ç§å¾®æœåŠ¡é“¾è·¯ä¿æŠ¤æœºåˆ¶ã€‚</strong></p>
<p>å½“æ‰‡å‡ºé“¾è·¯çš„æŸä¸ªå¾®æœåŠ¡ä¸å¯ç”¨æˆ–è€…å“åº”æ—¶é—´å¤ªé•¿æ—¶ï¼Œä¼šè¿›è¡ŒæœåŠ¡çš„é™çº§ï¼Œè¿›è€Œç†”æ–­è¯¥èŠ‚ç‚¹å¾®æœåŠ¡çš„è°ƒç”¨ï¼Œå¿«é€Ÿè¿”å›é”™è¯¯çš„å“åº”ä¿¡æ¯ã€‚æ£€æµ‹åˆ°è¯¥èŠ‚ç‚¹å¾®æœåŠ¡è°ƒç”¨å“åº”æ­£å¸¸åæ¢å¤è°ƒç”¨é“¾è·¯ã€‚åœ¨SpringCloudæ¡†æ¶é‡Œç†”æ–­æœºåˆ¶é€šè¿‡Hystrixå®ç°ã€‚Hystrixä¼šç›‘æ§å¾®æœåŠ¡é—´è°ƒç”¨çš„çŠ¶å†µï¼Œå½“å¤±è´¥çš„è°ƒç”¨åˆ°ä¸€å®šé˜€å€¼ç¼ºçœæ˜¯5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥ï¼Œå°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ã€‚ç†”æ–­æœºåˆ¶çš„æ³¨è§£æ˜¯ï¼š@HystrixCommandã€‚</p>
<p>æœåŠ¡ç†”æ–­è§£å†³å¦‚ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li><strong>å½“æ‰€ä¾èµ–çš„å¯¹è±¡ä¸ç¨³å®šæ—¶ï¼Œèƒ½å¤Ÿèµ·åˆ°å¿«é€Ÿå¤±è´¥çš„ç›®çš„ï¼›</strong></li>
<li><strong>å¿«é€Ÿå¤±è´¥åï¼Œèƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„ç®—æ³•åŠ¨æ€è¯•æ¢æ‰€ä¾èµ–å¯¹è±¡æ˜¯å¦æ¢å¤ã€‚</strong></li>
</ul>
<ol>
<li>å¯¼ä¾èµ–</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¼å…¥Hystrixä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-hystrix<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><br>MAVEN<br></code></pre></td></tr></table></figure>

<ol>
<li>yml</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8001</span><br><br><span class="hljs-comment">#mybatisé…ç½®</span><br><span class="hljs-attr">mybatis:</span><br>  <span class="hljs-comment"># springcloud-api æ¨¡å—ä¸‹çš„pojoåŒ…</span><br>  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.yang.springcloud.pojo</span><br>  <span class="hljs-comment"># æœ¬æ¨¡å—ä¸‹çš„mybatis-config.xmlæ ¸å¿ƒé…ç½®æ–‡ä»¶ç±»è·¯å¾„</span><br>  <span class="hljs-attr">config-location:</span> <span class="hljs-string">classpath:mybatis/mybatis-config.xml</span><br>  <span class="hljs-comment"># æœ¬æ¨¡å—ä¸‹çš„mapperé…ç½®æ–‡ä»¶ç±»è·¯å¾„</span><br>  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mybatis/mapper/*.xml</span><br><br><span class="hljs-comment">#springé…ç½®</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">springcloud-provider-dept</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/db01?useUnicode=true&amp;characterEncoding=UTF-8</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span><br><span class="hljs-comment"># Eurekaé…ç½®ï¼šé…ç½®æœåŠ¡æ³¨å†Œä¸­å¿ƒåœ°å€</span><br><span class="hljs-attr">eureka:</span><br>  <span class="hljs-attr">client:</span><br>    <span class="hljs-attr">service-url:</span><br>      <span class="hljs-attr">defaultZone:</span> <span class="hljs-string">http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/</span><br>  <span class="hljs-comment">#ä¿®æ”¹Eurekaä¸Šçš„é»˜è®¤æè¿°ä¿¡æ¯</span><br>  <span class="hljs-attr">instance:</span><br>    <span class="hljs-attr">instance-id:</span> <span class="hljs-string">springcloud-provider-dept-8001</span><br>    <span class="hljs-comment">#prefer-ip-address: true #æ”¹ä¸ºtrueåé»˜è®¤æ˜¾ç¤ºçš„æ˜¯ipåœ°å€è€Œä¸å†æ˜¯localhost</span><br><span class="hljs-comment"># infoé…ç½®</span><br><span class="hljs-attr">info:</span><br>  <span class="hljs-comment"># é¡¹ç›®çš„åç§°</span><br>  <span class="hljs-attr">app.name:</span> <span class="hljs-string">NYNUywg-springcloud</span><br>  <span class="hljs-comment"># å…¬å¸çš„åç§°</span><br>  <span class="hljs-attr">company.name:</span> <span class="hljs-string">å—é˜³å¸ˆèŒƒå­¦é™¢è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢</span><br><br><br><span class="hljs-string">YML</span><br></code></pre></td></tr></table></figure>

<ol>
<li>java</li>
</ol>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DeptController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> DeptService deptService;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ ¹æ®idæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</span><br><span class="hljs-comment">     * å¦‚æœæ ¹æ®idæŸ¥è¯¢å‡ºç°å¼‚å¸¸,åˆ™èµ°hystrixGetè¿™æ®µå¤‡é€‰ä»£ç </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@HystrixCommand(fallbackMethod = <span class="hljs-string">&quot;hystrixGet&quot;</span>)</span><br>    <span class="hljs-meta">@RequestMapping(<span class="hljs-string">&quot;/dept/get/&#123;id&#125;&quot;</span>)</span><span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢</span><br>    <span class="hljs-keyword">public</span> Dept <span class="hljs-keyword">get</span>(<span class="hljs-meta">@PathVariable(<span class="hljs-string">&quot;id&quot;</span>)</span> <span class="hljs-built_in">Long</span> id)&#123;<br>        Dept dept = deptService.queryById(id);<br>        <span class="hljs-keyword">if</span> (dept==<span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">throw</span> new RuntimeException(<span class="hljs-string">&quot;è¿™ä¸ªid=&gt;&quot;</span>+id+<span class="hljs-string">&quot;,ä¸å­˜åœ¨è¯¥ç”¨æˆ·ï¼Œæˆ–ä¿¡æ¯æ— æ³•æ‰¾åˆ°~&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> dept;<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ ¹æ®idæŸ¥è¯¢å¤‡é€‰æ–¹æ¡ˆ(ç†”æ–­)</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> id</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> Dept hystrixGet(<span class="hljs-meta">@PathVariable(<span class="hljs-string">&quot;id&quot;</span>)</span> <span class="hljs-built_in">Long</span> id)&#123;<br>        <span class="hljs-keyword">return</span> new Dept(id,<span class="hljs-string">&quot;è¿™ä¸ªid=&gt;&quot;</span>+id+<span class="hljs-string">&quot;,æ²¡æœ‰å¯¹åº”çš„ä¿¡æ¯,null---@Hystrix~&quot;</span>,<span class="hljs-string">&quot;åœ¨MySQLä¸­æ²¡æœ‰è¿™ä¸ªæ•°æ®åº“&quot;</span>);<br>    &#125;<br>&#125;<br><br><br>JAVA<br></code></pre></td></tr></table></figure>

<p><strong>ä¸»å¯åŠ¨ç±»æ·»åŠ <code>@EnableCircuitBreaker</code>ç†”æ–­æ³¨è§£</strong></p>
<h4 id="æœåŠ¡é›ªå´©"><a href="#æœåŠ¡é›ªå´©" class="headerlink" title="æœåŠ¡é›ªå´©"></a>æœåŠ¡é›ªå´©</h4><h4 id="ä»€ä¹ˆæ˜¯Hystrix"><a href="#ä»€ä¹ˆæ˜¯Hystrix" class="headerlink" title="ä»€ä¹ˆæ˜¯Hystrix"></a>ä»€ä¹ˆæ˜¯Hystrix</h4><h4 id="Hystrixèƒ½åšä»€ä¹ˆ"><a href="#Hystrixèƒ½åšä»€ä¹ˆ" class="headerlink" title="Hystrixèƒ½åšä»€ä¹ˆ"></a>Hystrixèƒ½åšä»€ä¹ˆ</h4><h4 id="æœåŠ¡ç†”æ–­"><a href="#æœåŠ¡ç†”æ–­" class="headerlink" title="æœåŠ¡ç†”æ–­"></a>æœåŠ¡ç†”æ–­</h4><h4 id="æœåŠ¡é™çº§"><a href="#æœåŠ¡é™çº§" class="headerlink" title="æœåŠ¡é™çº§"></a>æœåŠ¡é™çº§</h4><p>ä»€ä¹ˆæ˜¯æœåŠ¡é™çº§?<br>æœåŠ¡é™çº§æ˜¯æŒ‡ å½“æœåŠ¡å™¨å‹åŠ›å‰§å¢çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®å®é™…ä¸šåŠ¡æƒ…å†µåŠæµé‡ï¼Œå¯¹ä¸€äº›æœåŠ¡å’Œé¡µé¢æœ‰ç­–ç•¥çš„ä¸å¤„ç†ï¼Œæˆ–æ¢ç§ç®€å•çš„æ–¹å¼å¤„ç†ï¼Œä»è€Œé‡Šæ”¾æœåŠ¡å™¨èµ„æºä»¥ä¿è¯æ ¸å¿ƒä¸šåŠ¡æ­£å¸¸è¿ä½œæˆ–é«˜æ•ˆè¿ä½œã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯å°½å¯èƒ½çš„æŠŠç³»ç»Ÿèµ„æºè®©ç»™ä¼˜å…ˆçº§é«˜çš„æœåŠ¡ã€‚<br>èµ„æºæœ‰é™ï¼Œè€Œè¯·æ±‚æ˜¯æ— é™çš„ã€‚å¦‚æœåœ¨å¹¶å‘é«˜å³°æœŸï¼Œä¸åšæœåŠ¡é™çº§å¤„ç†ï¼Œä¸€æ–¹é¢è‚¯å®šä¼šå½±å“æ•´ä½“æœåŠ¡çš„æ€§èƒ½ï¼Œä¸¥é‡çš„è¯å¯èƒ½ä¼šå¯¼è‡´å®•æœºæŸäº›é‡è¦çš„æœåŠ¡ä¸å¯ç”¨ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬åœ¨é«˜å³°æœŸï¼Œä¸ºäº†ä¿è¯æ ¸å¿ƒåŠŸèƒ½æœåŠ¡çš„å¯ç”¨æ€§ï¼Œéƒ½è¦å¯¹æŸäº›æœåŠ¡é™çº§å¤„ç†ã€‚æ¯”å¦‚å½“åŒ11æ´»åŠ¨æ—¶ï¼ŒæŠŠäº¤æ˜“æ— å…³çš„æœåŠ¡ç»Ÿç»Ÿé™çº§ï¼Œå¦‚æŸ¥çœ‹èš‚èšæ·±æ—ï¼ŒæŸ¥çœ‹å†å²è®¢å•ç­‰ç­‰ã€‚</p>
<p><strong>æœåŠ¡é™çº§ä¸»è¦ç”¨äºä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿ</strong>å½“æ•´ä¸ªå¾®æœåŠ¡æ¶æ„æ•´ä½“çš„è´Ÿè½½è¶…å‡ºäº†é¢„è®¾çš„ä¸Šé™é˜ˆå€¼æˆ–å³å°†åˆ°æ¥çš„æµé‡é¢„è®¡å°†ä¼šè¶…è¿‡é¢„è®¾çš„é˜ˆå€¼æ—¶ï¼Œä¸ºäº†ä¿è¯é‡è¦æˆ–åŸºæœ¬çš„æœåŠ¡èƒ½æ­£å¸¸è¿è¡Œï¼Œå¯ä»¥å°†ä¸€äº› ä¸é‡è¦ æˆ– ä¸ç´§æ€¥ çš„æœåŠ¡æˆ–ä»»åŠ¡è¿›è¡ŒæœåŠ¡çš„ å»¶è¿Ÿä½¿ç”¨ æˆ– æš‚åœä½¿ç”¨ã€‚</p>
<p>é™çº§çš„æ–¹å¼å¯ä»¥æ ¹æ®ä¸šåŠ¡æ¥ï¼Œå¯ä»¥å»¶è¿ŸæœåŠ¡ï¼Œæ¯”å¦‚å»¶è¿Ÿç»™ç”¨æˆ·å¢åŠ ç§¯åˆ†ï¼Œåªæ˜¯æ”¾åˆ°ä¸€ä¸ªç¼“å­˜ä¸­ï¼Œç­‰æœåŠ¡å¹³ç¨³ä¹‹åå†æ‰§è¡Œ ï¼›æˆ–è€…åœ¨ç²’åº¦èŒƒå›´å†…å…³é—­æœåŠ¡ï¼Œæ¯”å¦‚å…³é—­ç›¸å…³æ–‡ç« çš„æ¨èã€‚</p>
<p>ç”±ä¸Šå›¾å¯å¾—ï¼Œå½“æŸä¸€æ—¶é—´å†…æœåŠ¡Açš„è®¿é—®é‡æš´å¢ï¼Œè€ŒBå’ŒCçš„è®¿é—®é‡è¾ƒå°‘ï¼Œä¸ºäº†ç¼“è§£AæœåŠ¡çš„å‹åŠ›ï¼Œè¿™æ—¶å€™éœ€è¦Bå’ŒCæš‚æ—¶å…³é—­ä¸€äº›æœåŠ¡åŠŸèƒ½ï¼Œå»æ‰¿æ‹…Açš„éƒ¨åˆ†æœåŠ¡ï¼Œä»è€Œä¸ºAåˆ†æ‹…å‹åŠ›ï¼Œå«åšæœåŠ¡é™çº§ã€‚</p>
<p>æœåŠ¡é™çº§éœ€è¦è€ƒè™‘çš„é—®é¢˜</p>
<p>é‚£äº›æœåŠ¡æ˜¯æ ¸å¿ƒæœåŠ¡ï¼Œå“ªäº›æœåŠ¡æ˜¯éæ ¸å¿ƒæœåŠ¡<br>é‚£äº›æœåŠ¡å¯ä»¥æ”¯æŒé™çº§ï¼Œé‚£äº›æœåŠ¡ä¸èƒ½æ”¯æŒé™çº§ï¼Œé™çº§ç­–ç•¥æ˜¯ä»€ä¹ˆ<br>é™¤æœåŠ¡é™çº§ä¹‹å¤–æ˜¯å¦å­˜åœ¨æ›´å¤æ‚çš„ä¸šåŠ¡æ”¾é€šåœºæ™¯ï¼Œç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ<br>è‡ªåŠ¨é™çº§åˆ†ç±»</p>
<p>1ï¼‰è¶…æ—¶é™çº§ï¼šä¸»è¦é…ç½®å¥½è¶…æ—¶æ—¶é—´å’Œè¶…æ—¶é‡è¯•æ¬¡æ•°å’Œæœºåˆ¶ï¼Œå¹¶ä½¿ç”¨å¼‚æ­¥æœºåˆ¶æ¢æµ‹å›å¤æƒ…å†µ</p>
<p>2ï¼‰å¤±è´¥æ¬¡æ•°é™çº§ï¼šä¸»è¦æ˜¯ä¸€äº›ä¸ç¨³å®šçš„apiï¼Œå½“å¤±è´¥è°ƒç”¨æ¬¡æ•°è¾¾åˆ°ä¸€å®šé˜€å€¼è‡ªåŠ¨é™çº§ï¼ŒåŒæ ·è¦ä½¿ç”¨å¼‚æ­¥æœºåˆ¶æ¢æµ‹å›å¤æƒ…å†µ</p>
<p>3ï¼‰æ•…éšœé™çº§ï¼šæ¯”å¦‚è¦è°ƒç”¨çš„è¿œç¨‹æœåŠ¡æŒ‚æ‰äº†ï¼ˆç½‘ç»œæ•…éšœã€DNSæ•…éšœã€httpæœåŠ¡è¿”å›é”™è¯¯çš„çŠ¶æ€ç ã€rpcæœåŠ¡æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œåˆ™å¯ä»¥ç›´æ¥é™çº§ã€‚é™çº§åçš„å¤„ç†æ–¹æ¡ˆæœ‰ï¼šé»˜è®¤å€¼ï¼ˆæ¯”å¦‚åº“å­˜æœåŠ¡æŒ‚äº†ï¼Œè¿”å›é»˜è®¤ç°è´§ï¼‰ã€å…œåº•æ•°æ®ï¼ˆæ¯”å¦‚å¹¿å‘ŠæŒ‚äº†ï¼Œè¿”å›æå‰å‡†å¤‡å¥½çš„ä¸€äº›é™æ€é¡µé¢ï¼‰ã€ç¼“å­˜ï¼ˆä¹‹å‰æš‚å­˜çš„ä¸€äº›ç¼“å­˜æ•°æ®ï¼‰</p>
<p>4ï¼‰é™æµé™çº§ï¼šç§’æ€æˆ–è€…æŠ¢è´­ä¸€äº›é™è´­å•†å“æ—¶ï¼Œæ­¤æ—¶å¯èƒ½ä¼šå› ä¸ºè®¿é—®é‡å¤ªå¤§è€Œå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œæ­¤æ—¶ä¼šä½¿ç”¨é™æµæ¥è¿›è¡Œé™åˆ¶è®¿é—®é‡ï¼Œå½“è¾¾åˆ°é™æµé˜€å€¼ï¼Œåç»­è¯·æ±‚ä¼šè¢«é™çº§ï¼›é™çº§åçš„å¤„ç†æ–¹æ¡ˆå¯ä»¥æ˜¯ï¼šæ’é˜Ÿé¡µé¢ï¼ˆå°†ç”¨æˆ·å¯¼æµåˆ°æ’é˜Ÿé¡µé¢ç­‰ä¸€ä¼šé‡è¯•ï¼‰ã€æ— è´§ï¼ˆç›´æ¥å‘ŠçŸ¥ç”¨æˆ·æ²¡è´§äº†ï¼‰ã€é”™è¯¯é¡µï¼ˆå¦‚æ´»åŠ¨å¤ªç«çˆ†äº†ï¼Œç¨åé‡è¯•ï¼‰ã€‚</p>
<h4 id="æœåŠ¡ç†”æ–­å’ŒæœåŠ¡é™çº§çš„åŒºåˆ«"><a href="#æœåŠ¡ç†”æ–­å’ŒæœåŠ¡é™çº§çš„åŒºåˆ«" class="headerlink" title="æœåŠ¡ç†”æ–­å’ŒæœåŠ¡é™çº§çš„åŒºåˆ«"></a>æœåŠ¡ç†”æ–­å’ŒæœåŠ¡é™çº§çš„åŒºåˆ«</h4><h4 id="Dashboardæµç›‘æ§"><a href="#Dashboardæµç›‘æ§" class="headerlink" title="Dashboardæµç›‘æ§"></a>Dashboardæµç›‘æ§</h4><h3 id="Zull"><a href="#Zull" class="headerlink" title="Zull"></a>Zull</h3><h4 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><h4 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h4><h3 id="Grateway"><a href="#Grateway" class="headerlink" title="Grateway"></a>Grateway</h3><h3 id="SpringCloudConfig"><a href="#SpringCloudConfig" class="headerlink" title="SpringCloudConfig"></a>SpringCloudConfig</h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Java/">#Java</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>springCloud</div>
      <div>https://lfrok.top/2022/11/27/Java/SpringCloud/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>B612ğŸš€</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2022å¹´11æœˆ27æ—¥</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/11/27/Java/POI&amp;&amp;EasyExcel/" title="Pol&amp;&amp;Excel">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Pol&amp;&amp;Excel</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/11/27/Java/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="ç½‘ç»œç¼–ç¨‹">
                        <span class="hidden-mobile">ç½‘ç»œç¼–ç¨‹</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA==">
    <script type="text/javascript">
      Fluid.utils.loadComments('#lv-container', function() {
        Fluid.utils.createScript('https://cdn-city.livere.com/js/embed.dist.js');
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>
  </div>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Fork</span></a> <strong><i style= color:red>â˜­ </i></strong> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>B-612</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
